---
title: Workersデプロイと本番移行チェックリスト
---

# Workersデプロイと本番移行チェックリスト

最後に Cloudflare への手動デプロイと、live移行時の確認項目をまとめます。

章対応コミット:

- ドキュメント整備: https://github.com/yuu19/stripe-connect-hono-sveltekit-demo/commit/685e82babee6e72807e9a1ff593aa73914f80ac8

## デプロイ手順（要約）

1. D1作成
2. `apps/api/wrangler.jsonc` / `apps/web/wrangler.jsonc` の `database_id` を設定
3. Secrets投入（Stripeキー、Webhook secret、Auth secret、internal token）
4. `pnpm d1:migrate:remote`
5. `pnpm deploy`

## live移行チェックリスト

- test key / live key の取り違え防止
- Webhook endpoint の live再作成
- `BETTER_AUTH_URL` と許可originの本番化
- Accessログ/Stripeイベント監視の導入
- 返金、期限切れ、非同期失敗時の業務フロー定義

## まとめ

このデモの価値は、単なる Checkout 呼び出しではなく、次を一貫して押さえている点です。

- Connect account lifecycle
- destination charge の正しいパラメータ設計
- Webhook の冪等性
- Worker間連携による公開境界の明確化

ここまで実装できれば、実運用向けの最小土台として十分戦えます。
