---
title: この本で作るものと設計方針
free: true
---

# この本で作るものと設計方針

本書では、`destination charge` 固定の Stripe Connect 決済デモを実装します。構成は以下です。

- `apps/web`: SvelteKit Worker（UI + Better Auth + 同一オリジンAPI）
- `apps/api`: Hono Worker（Stripe Connect API + Webhook）
- `packages/db`: Drizzle schema/migrations/query

実装済みデモリポジトリ:

- https://github.com/yuu19/stripe-connect-hono-sveltekit-demo

章対応コミット:

- ワークスペース初期化: https://github.com/yuu19/stripe-connect-hono-sveltekit-demo/commit/f39c2ffff23e4a88c8bb9f3d0262e0bab3cfc8e3

## 目的

1. Connect Account を作成する
2. Onboarding Link を発行する
3. Checkout Session を destination charge で作る
4. Webhook を署名検証 + 重複排除で安全に処理する

## なぜ destination charge か

- 学習コストが低い
- Checkout Hosted と相性が良い
- `application_fee_amount` と `transfer_data.destination` が明快

## 本書の前提

- Stripe は test mode のみ
- Cloudflare は Workers 2本 + D1 + Service Binding
- 認証は Better Auth（メール/パスワード）

次章で環境を揃え、実行可能な土台を作ります。
