---
title: 'sveltekit-lucia-starterã®ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚€'
description: ''
emoji: 'ğŸ“š'
date: 2024-08-19
topics: ["sqlalchmy"]
blog_published: False
published: False
---

## ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ«ãƒ¼ãƒˆã®ã‚°ãƒ«ãƒ¼ãƒ—åˆ†ã‘

ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯
src/routersä»¥ä¸‹ã®ãƒ•ã‚©ãƒ«ãƒ€ã«ã¤ã„ã¦ã€(loggedIn), (loggedOut), (open)/paramsä»¥ä¸‹ã«æ©Ÿèƒ½ã”ã¨ã«çºã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

[ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://kit.svelte.jp/docs/advanced-routing#advanced-layouts) ã«ã‚ã‚‹ã‚ˆã†ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåã‚’()ã§å›²ã‚“ã å ´åˆã«ã¯ã€ãã®éƒ¨åˆ†ã¯URL
ã«ã¯åæ˜ ã•ã‚Œãšã€ãƒ«ãƒ¼ãƒˆã‚’ã‚°ãƒ«ãƒ¼ãƒ—ã«åˆ†ã‘ã¦è­˜åˆ¥ã—ã‚„ã™ããŸã‚ã«ã“ã®ã‚ˆã†ãªæ›¸ãæ–¹ãŒç”¨ã„ã‚‰ã‚Œã¾ã™ã€‚

(loggin): ãƒ­ã‚°ã‚¤ãƒ³é–¢ä¿‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
(loggedOut): ãƒ­ã‚°ã‚¢ã‚¦ãƒˆé–¢ä¿‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
(open)/params: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–¢ä¿‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª

```
â”œâ”€â”€ (loggedIn)
â”‚Â Â  â”œâ”€â”€ backup
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ +page.server.ts
â”‚Â Â  â”‚Â Â  â””â”€â”€ +page.svelte
â”‚Â Â  â”œâ”€â”€ sse
â”‚Â Â  â”‚Â Â  â””â”€â”€ [id]
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ +page.server.ts
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ +page.svelte
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ getData
â”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ +server.ts
â”‚Â Â  â”‚Â Â      â””â”€â”€ setData
â”‚Â Â  â”‚Â Â          â””â”€â”€ +server.ts
â”‚Â Â  â”œâ”€â”€ users
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ +page.server.ts
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ +page.svelte
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ [id]
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ +layout.server.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ +layout.svelte
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ +page.server.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ +page.svelte
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ delete
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ +page.server.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ +page.svelte
â”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ password
â”‚Â Â  â”‚Â Â  â”‚Â Â      â”œâ”€â”€ +page.server.ts
â”‚Â Â  â”‚Â Â  â”‚Â Â      â””â”€â”€ +page.svelte
â”‚Â Â  â”‚Â Â  â””â”€â”€ create
â”‚Â Â  â”‚Â Â      â”œâ”€â”€ +page.server.ts
â”‚Â Â  â”‚Â Â      â””â”€â”€ +page.svelte
â”‚Â Â  â””â”€â”€ ws
â”‚Â Â      â””â”€â”€ [id]
â”‚Â Â          â”œâ”€â”€ +page.server.ts
â”‚Â Â          â”œâ”€â”€ +page.svelte
â”‚Â Â          â””â”€â”€ socket.svelte.ts
â”œâ”€â”€ (loggedOut)
â”‚Â Â  â”œâ”€â”€ firstUser
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ +page.server.ts
â”‚Â Â  â”‚Â Â  â””â”€â”€ +page.svelte
â”‚Â Â  â”œâ”€â”€ login
â”‚Â Â  â”‚Â Â  â”œâ”€â”€ +page.server.ts
â”‚Â Â  â”‚Â Â  â””â”€â”€ +page.svelte
â”‚Â Â  â””â”€â”€ signup
â”‚Â Â      â”œâ”€â”€ +page.server.ts
â”‚Â Â      â””â”€â”€ +page.svelte
â”œâ”€â”€ (open)
â”‚Â Â  â””â”€â”€ params
â”‚Â Â      â”œâ”€â”€ +page.server.ts
â”‚Â Â      â”œâ”€â”€ +page.svelte
â”‚Â Â      â””â”€â”€ searchSchema.ts
```

### èªè¨¼ã‚¬ãƒ¼ãƒ‰

ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†…ã®ãã‚Œãã‚Œã®ãƒšãƒ¼ã‚¸ã«ã¤ã„ã¦ã€

- adminãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ãŒã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒšãƒ¼ã‚¸

- ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ã§ã‚ã‚Œã°ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒšãƒ¼ã‚¸

- ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ãªã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã‚ã£ã¦ã‚‚ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒšãƒ¼ã‚¸

ã®ã‚ˆã†ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«å¿œã˜ã¦ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒšãƒ¼ã‚¸ã‚’åˆ¶é™ã—ãŸã„å ´åˆãŒã‚ã‚Šã¾ã™ã€‚

skGuardã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ã“ã®ã‚ˆã†ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’1ç®‡æ‰€ã«ã¾ã¨ã‚ã¦è¨˜è¿°ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚(`/lib/server/authGuard/authGuardConfig.ts`)

### ãƒšãƒ¼ã‚¸é·ç§»
skRoutesã¨ã„ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã—ã¦zodã‚’ç”¨ã„ãŸãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ç”¨ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚`routes.ts`ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’æ›¸ã„ã¦ãŠã„ã¦ã€





## èªè¨¼é–¢é€£



### ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†

sveltekitã§ã¯`hooks.server.js`ã«ãƒãƒ³ãƒ‰ãƒ©é–¢æ•°ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ã§ã€ãƒãƒ³ãƒ‰ãƒ©é–¢æ•°å†…ã®è¨˜è¿°ã«å¿œã˜ãŸå‡¦ç†ã‚’ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¨ã—ã¦å‹•ä½œã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

- `handleAuth`é–¢æ•°

ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã®æœ‰ç„¡ã€ã‚»ãƒƒã‚·ãƒ§ãƒ³IDãŒæœ‰åŠ¹ã‹å¦ã‹ã«å¿œã˜ã¦å‡¦ç†ã‚’è¡Œã†

- `handleRoute`é–¢æ•°


